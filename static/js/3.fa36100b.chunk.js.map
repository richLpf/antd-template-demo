{"version":3,"sources":["utils/download.js","utils/localStorage.js","components/UTable/index.js","api/request.js","api/acl.js","components/UForm/FormItem.js","components/UForm/FormModal.js","components/Form/FormItemComponent.js","components/TableFilter/index.js","../node_modules/antd/es/popconfirm/style/index.js","../node_modules/antd/es/popconfirm/index.js"],"names":["a","fields","dataSource","filename","download","csv","blob","Blob","type","url","window","URL","createObjectURL","document","createElement","href","click","revokeObjectURL","err","console","error","Parser","withBOM","parse","exportCSV","getLocalStorage","key","value","localStorage","getItem","JSON","e","CheckboxGroup","Group","UTable","forwardRef","props","ref","columns","storeKey","rowKey","query","leftAction","filterParams","size","useBackendPagination","useBackendSearch","useReloadButton","useSearchInput","limit","exportData","exportQuery","useState","Data","setData","total","setTotal","loading","setLoading","exportLoading","setExportLoading","tableColumns","setTableColumns","undefined","FuzzySearch","setFuzzySearch","Page","PageSize","pagination","setPagination","useEffect","fetchData","toQueryParams","useCallback","data","log","then","res","Total","catch","defaultColumns","storeColumns","filter","item","includes","useImperativeHandle","sortField","sorter","field","sortOrder","order","filters","throttleRef","current","handleDownload","exportPromise","message","String","Array","isArray","length","onChange","useRef","throttle","fetchCondition","onSearch","tableProps","Object","keys","some","k","pageSize","scroll","x","ColumnsSettingContent","style","width","options","map","label","title","values","selectedColumns","setItem","stringify","setLocalStorage","column","CardExtra","suffix","SearchOutlined","onClick","target","placeholder","onPressEnter","icon","DownloadOutlined","ReloadOutlined","placement","content","trigger","SettingOutlined","extra","bordered","defaultProps","usePagination","displayName","config","userInfo","request","params","Promise","resolve","reject","instance","axios","create","assign","withCredentials","timeout","interceptors","use","headers","token","remote_user","response","RetCode","Message","location","replace","CreateResource","method","UpdateResource","GetResources","DeleteResource","GetUserList","CreateUser","UpdateUser","DeleteUser","GetRoleList","Option","FormItem","option","render","rest","filterItem","Input","Textarea","TextArea","Select","showSearch","optionFilterProp","filterOption","input","children","toLowerCase","indexOf","list","index","SelectNew","defaultLayout","labelCol","span","wrapperCol","FormModal","itemOption","visible","cancel","handleOk","initialValues","confirmLoading","layout","editInfo","useForm","form","resetFields","forceRender","onOk","validateFields","onCancel","Item","name","rules","RangePicker","FormItemComponent","disabled","NumberInput","allowClear","SelectMultiple","mode","Radio","optionType","buttonStyle","Date","DateRange","Content","TableFilter","rowCount","defaultValue","leftActions","rightActions","defaultExpand","count","expand","setExpand","setFieldsValue","onFinish","forEach","prototype","isPrototypeOf","gutter","showFields","slice","hidden","push","required","getFields","className","htmlType","padding","UpOutlined","DownOutlined","_this","__rest","s","t","p","hasOwnProperty","call","getOwnPropertySymbols","i","propertyIsEnumerable","Popconfirm","React","_useMergedState","useMergedState","defaultVisible","_useMergedState2","_slicedToArray","setVisible","settingVisible","_a","onVisibleChange","onConfirm","getPrefixCls","ConfigContext","customizePrefixCls","prefixCls","overlayClassName","restProps","prefixClsConfirm","overlayClassNames","classNames","overlay","LocaleReceiver","componentName","defaultLocale","popconfirmLocale","okButtonProps","cancelButtonProps","cancelText","okText","okType","concat","getRenderPropValue","Button","_extends","convertLegacyProps","renderOverlay","rootPrefixCls","Tooltip","transitionName","getTransitionName","cloneElement","onKeyDown","_b","keyCode","KeyCode","ESC","_onKeyDown","ExclamationCircleFilled"],"mappings":"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","file":"static/js/3.fa36100b.chunk.js","sourcesContent":["/**\n * @function exportCSV\n * @description 下载csv文件\n * @param {Array} fields 表头字段\n * @param {Array} dataSource 文件数据\n * @param {String} filename 文件名\n */\n\nasync function exportCSV({\n  fields = [],\n  dataSource = [],\n  filename = \"download\",\n}) {\n  const download = (csv) => {\n    try {\n      const blob = new Blob([csv, { type: \"text/csv\" }]);\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = filename;\n      a.click();\n      window.URL.revokeObjectURL(url);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  try {\n    const { Parser } = await import(\"json2csv\");\n    const csv = new Parser({ fields, withBOM: true }).parse(dataSource);\n    download(csv);\n  } catch (err) {\n    console.error(err);\n  }\n}\n\nexport default exportCSV;\n","export function setLocalStorage(key, value) {\n  try {\n    window.localStorage.setItem(key, JSON.stringify(value));\n  } catch (e) {\n    console.log(e.message);\n  }\n}\n\nexport function getLocalStorage(key) {\n  const value = window.localStorage.getItem(key);\n  try {\n    return JSON.parse(value);\n  } catch (e) {\n    return value;\n  }\n}\n\n// 获取某个系统缓存数据，包括用户信息\nexport function getOneSystemStore(key) {\n  return getLocalStorage(key);\n}\n\n// 获取系统缓存数据，包括用户信息\nexport function getSystemStore(keys) {\n  const systemStore = {};\n  Object.keys(keys).forEach((item) => {\n    systemStore[item] = getLocalStorage(keys[item]);\n  });\n\n  return systemStore;\n}\n","import React, {\n  useState,\n  useEffect,\n  useImperativeHandle,\n  forwardRef,\n  useCallback,\n  useRef,\n} from \"react\";\nimport {\n  ReloadOutlined,\n  DownloadOutlined,\n  SearchOutlined,\n  SettingOutlined,\n} from \"@ant-design/icons\";\nimport {\n  Card,\n  Table,\n  Button,\n  Space,\n  Input,\n  message,\n  Checkbox,\n  Tooltip,\n  Popover,\n} from \"antd\";\nimport PropTypes from \"prop-types\";\n\nimport exportCSV from \"../../utils/download\";\nimport { throttle } from \"../../utils/common\";\nimport { getLocalStorage, setLocalStorage } from \"src/utils/localStorage\";\n\nconst CheckboxGroup = Checkbox.Group;\n\nconst DefaultPageSize = 9999999;\n\nconst UTable = forwardRef((props, ref) => {\n  const {\n    columns,\n    storeKey,\n    dataSource,\n    rowKey,\n    query,\n    leftAction,\n    download,\n    filterParams,\n    size,\n    useBackendPagination,\n    useBackendSearch,\n    useReloadButton,\n    useSearchInput,\n  } = props;\n\n  const { limit, exportData, exportQuery } = download || {};\n\n  const [Data, setData] = useState(dataSource || []);\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [exportLoading, setExportLoading] = useState(false);\n  const [tableColumns, setTableColumns] = useState([]);\n  const [FuzzySearch, setFuzzySearch] = useState(undefined);\n  const [pagination, setPagination] = useState({\n    Page: 1,\n    PageSize: 10,\n  });\n\n  useEffect(() => {\n    fetchData({ ...toQueryParams() });\n  }, []);\n\n  const fetchData = useCallback(\n    async (data) => {\n      console.log(\"fetchData\", data);\n\n      setLoading(true);\n      return (\n        query &&\n        query(data)\n          .then((res) => {\n            const { Data, Total } = res || {};\n            setData(Data || []);\n            setTotal(Total || 0);\n            setLoading(false);\n            return Data;\n          })\n          .catch((err) => {\n            setLoading(false);\n            return err;\n          })\n      );\n    },\n    [query]\n  );\n\n  useEffect(() => {\n    const defaultColumns = columns;\n    const storeColumns = getLocalStorage(storeKey);\n\n    if (storeColumns) {\n      setTableColumns(\n        columns.filter((item) => (storeColumns || []).includes(item.key))\n      );\n      return;\n    }\n\n    setTableColumns(defaultColumns);\n    // eslint-disable-next-line\n  }, [columns]);\n\n  // 暴露接口调用和表格数据给父组件\n  useImperativeHandle(\n    ref,\n    () => ({\n      fetchData: () => fetchData({ ...toQueryParams() }),\n      data: Data,\n    }),\n    [Data, fetchData]\n  );\n\n  const toQueryParams = useCallback(\n    (data) => {\n      const { Page, PageSize, FuzzySearch } = pagination;\n      return {\n        ...(useBackendPagination\n          ? {\n              Page: data?.Page || Page,\n              PageSize: data?.PageSize || PageSize,\n              FuzzySearch: data?.FuzzySearch || FuzzySearch,\n              sortField: data?.sorter?.field,\n              sortOrder: data?.sorter?.order,\n              ...(data?.filters ? data.filters : {}),\n              ...filterParams,\n            }\n          : {\n              Page: 1,\n              PageSize: DefaultPageSize,\n              ...filterParams,\n            }),\n      };\n    },\n    [filterParams, pagination, useBackendPagination]\n  );\n\n  useEffect(() => {\n    // 外部搜索\n    console.log(throttleRef.current);\n    throttleRef.current(\n      pagination.Page,\n      pagination.PageSize || 10,\n      useBackendPagination\n    );\n  }, [filterParams]);\n\n  const handleDownload = async () => {\n    let dataSource = Data;\n    if (useBackendPagination) {\n      setExportLoading(true);\n      const exportPromise = exportQuery\n        ? exportQuery({\n            ...toQueryParams(),\n          })\n        : query({\n            ...toQueryParams(),\n            Page: 1,\n            ...(limit ? { PageSize: limit } : {}),\n          });\n      dataSource = await exportPromise\n        .then((res) => res.Data)\n        .catch((err) => {\n          setExportLoading(false);\n          message.error(String(err));\n          return null;\n        });\n      setExportLoading(false);\n    }\n    if (Array.isArray(dataSource) && dataSource.length) {\n      const { data, fields } = exportData(dataSource);\n      exportCSV({ fields, dataSource: data, filename: \"list.csv\" });\n    }\n  };\n\n  // 分页切换\n  const onChange = useCallback((Page, PageSize, pagination) => {\n    setPagination({ ...pagination, Page, PageSize });\n    if (useBackendPagination) {\n      fetchData({ FuzzySearch, Page, PageSize });\n    }\n  }, []);\n\n  const getList = (Page, PageSize, fetchCondition) => {\n    setPagination({ Page, PageSize });\n    if (fetchCondition) {\n      fetchData({ FuzzySearch, Page, PageSize });\n    }\n  };\n\n  const throttleRef = useRef(throttle(getList, 1000));\n\n  // 自带搜索\n  const onSearch = () => {\n    if (!useBackendSearch) {\n      return;\n    }\n    // 后端分页查询\n    const page = 1;\n    throttleRef.current(page, pagination.PageSize || 10, useBackendPagination);\n  };\n\n  const handleTableChange = (pagination, filters, sorter) => {\n    console.log(sorter);\n    fetchData({ ...toQueryParams({ pagination, filters, sorter }) });\n  };\n\n  const tableProps = useCallback(() => {\n    return {\n      dataSource:\n        useBackendPagination && useBackendSearch\n          ? Data\n          : Data?.filter(\n              (item) =>\n                !FuzzySearch ||\n                Object.keys(item).some((k) => {\n                  return (\n                    typeof item[k] !== Object &&\n                    String(item[k]).includes(FuzzySearch)\n                  );\n                })\n            ),\n      ...(useBackendPagination\n        ? {\n            pagination: {\n              current: pagination.Page,\n              pageSize: pagination.PageSize,\n              total: total,\n              onChange: (Page, PageSize) =>\n                onChange(Page, PageSize, pagination),\n            },\n          }\n        : {}),\n      scroll: { x: true },\n    };\n  }, [\n    Data,\n    FuzzySearch,\n    total,\n    useBackendPagination,\n    useBackendSearch,\n    pagination,\n    onChange,\n  ]);\n\n  const ColumnsSettingContent = (\n    <CheckboxGroup\n      style={{ width: 150 }}\n      options={columns.map((item) => ({ label: item.title, value: item.key }))}\n      value={tableColumns.map((item) => item.key)}\n      onChange={(values) => {\n        const selectedColumns = columns.filter((item) =>\n          values.includes(item.key)\n        );\n        setTableColumns(selectedColumns);\n        if (storeKey) {\n          setLocalStorage(\n            storeKey,\n            selectedColumns.map((column) => column.key)\n          );\n        }\n      }}\n    />\n  );\n\n  const CardExtra = (\n    <Space>\n      {useSearchInput ? (\n        <Input\n          size={size}\n          suffix={<SearchOutlined onClick={onSearch} />}\n          value={FuzzySearch}\n          onChange={(e) => setFuzzySearch(e.target.value)}\n          placeholder=\"search...\"\n          onPressEnter={onSearch}\n        />\n      ) : null}\n\n      {download && (\n        <Button\n          size={size}\n          loading={exportLoading}\n          onClick={handleDownload}\n          icon={<DownloadOutlined />}\n        ></Button>\n      )}\n\n      {useReloadButton ? (\n        <Button\n          size={size}\n          onClick={() => fetchData({ ...toQueryParams() })}\n          icon={<ReloadOutlined />}\n        ></Button>\n      ) : null}\n\n      {storeKey && (\n        <Tooltip key={\"ColumnsSetting\"} placement=\"top\" title=\"自定义列表\">\n          <Popover\n            placement=\"left\"\n            title=\"自定义列表\"\n            content={ColumnsSettingContent}\n            trigger=\"click\"\n          >\n            <Button size={size} icon={<SettingOutlined />} />\n          </Popover>\n        </Tooltip>\n      )}\n    </Space>\n  );\n\n  return (\n    <Card size={size} title={leftAction} extra={CardExtra}>\n      <Table\n        size={size}\n        columns={tableColumns}\n        rowKey={rowKey}\n        loading={loading}\n        bordered\n        onChange={handleTableChange}\n        {...tableProps()}\n      />\n    </Card>\n  );\n});\n\nUTable.defaultProps = {\n  usePagination: false,\n  size: \"middle\",\n  useBackendSearch: false,\n};\n\nUTable.propTypes = {\n  download: PropTypes.shape({\n    limit: PropTypes.number,\n    exportData: PropTypes.func,\n    exportQuery: PropTypes.func, // 下载是否为单独的接口\n    ResponseDataKey: PropTypes.string, // 接口返回数据的key\n    ResponseTotalKey: PropTypes.string, // 接口返回Total参数名\n  }),\n  pagination: PropTypes.object,\n  useBackendPagination: PropTypes.bool, // 是否使用后端分页\n  //   filter: PropTypes.object, // 过滤参数\n  query: PropTypes.func, // 请求API\n  columns: PropTypes.array.isRequired, // 标题数据\n  storeKey: PropTypes.string, // 储存动态展示列的localStorage的key\n  useReloadButton: PropTypes.bool, // 刷新表格按钮\n  leftAction: PropTypes.any, // 表格头部左侧按钮操作\n  filterParams: PropTypes.object,\n  size: PropTypes.oneOf([\"small\", \"large\", \"middle\"]),\n  useBackendSearch: PropTypes.bool, // 是否使用后端搜索\n  useSearchInput: PropTypes.bool,\n  dataSource: PropTypes.array,\n  rowKey: PropTypes.string,\n  onChange: PropTypes.func, // Table原生的change\n};\n\nUTable.displayName = \"UTable\";\n\nexport default UTable;\n","import { message } from \"antd\";\nimport axios from \"axios\";\n\nconst config = {};\nif (process.env.REACT_APP_ENV !== \"development\") {\n  config.baseURL = process.env.REACT_APP_API;\n}\n\nconst userInfo = {\n  username: \"user\",\n  token: \"123456\",\n};\n\nfunction request(params) {\n  return new Promise((resolve, reject) => {\n    const instance = axios.create(\n      Object.assign(\n        {\n          withCredentials: false,\n          \"content-type\": \"application/json\",\n          timeout: 30000,\n        },\n        config\n      )\n    );\n\n    instance.interceptors.request.use(\n      (config) => {\n        if (userInfo.token) {\n          config.headers.token = userInfo.token;\n        }\n        if (userInfo.username) {\n          config.headers.remote_user = userInfo.username;\n        }\n        return config;\n      },\n      (err) => {\n        return reject(err);\n      }\n    );\n\n    instance.interceptors.response.use(\n      (res) => {\n        return res;\n      },\n      (err) => {\n        return reject(err.message);\n      }\n    );\n\n    instance(params)\n      .then((res) => {\n        const {\n          data: { RetCode, Message },\n          data,\n        } = res;\n        if (RetCode === 10000) {\n          message.error(\"请登陆\");\n          window.location.replace(\"/login\");\n          return;\n        } else if (RetCode !== 0) {\n          message.error(Message);\n          resolve(data);\n        } else {\n          resolve(data);\n        }\n      })\n      .catch((err) => {\n        reject(err);\n      });\n  });\n}\n\nexport default request;\n","import request from \"./request\";\n// resource\nexport const CreateResource = (data) => {\n  return request({\n    url: \"/v1/signIn\",\n    method: \"post\",\n    data,\n  });\n};\n\nexport const UpdateResource = (query) => {\n  return request({\n    url: \"/v1/list\",\n    method: \"get\",\n    query,\n  });\n};\nexport const GetResources = (query) => {\n  return request({\n    url: \"/v1/list\",\n    method: \"get\",\n    query,\n  });\n};\nexport const DeleteResource = (query) => {\n  return request({\n    url: \"/v1/list\",\n    method: \"get\",\n    query,\n  });\n};\n\nexport const GetUserList = (query) => {\n  return request({\n    url: \"/v1/list\",\n    method: \"get\",\n    query,\n  });\n};\nexport const CreateUser = (query) => {\n  return request({\n    url: \"/v1/list\",\n    method: \"get\",\n    query,\n  });\n};\nexport const UpdateUser = (query) => {\n  return request({\n    url: \"/v1/list\",\n    method: \"get\",\n    query,\n  });\n};\nexport const DeleteUser = (query) => {\n  return request({\n    url: \"/v1/list\",\n    method: \"get\",\n    query,\n  });\n};\n\nexport const GetRoleList = (query) => {\n  return request({\n    url: \"/v1/list\",\n    method: \"get\",\n    query,\n  });\n};\n","import React from \"react\";\nimport { Input, Select } from \"antd\";\n\nconst { Option } = Select;\n\nfunction FormItem(field) {\n  const { content, label, option, render, ...rest } = field;\n\n  const filterItem = {\n    Input: <Input placeholder=\"请输入\" />,\n    Textarea: (\n      <Input.TextArea\n        style={{ width: \"100%\" }}\n        placeholder={label}\n        {...option}\n      />\n    ),\n    Select: (\n      <Select\n        showSearch\n        {...rest}\n        optionFilterProp=\"children\"\n        filterOption={(input, option) =>\n          option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n        }\n      >\n        {option && option.list\n          ? option.list.map((item, index) => {\n              const label = Array.isArray(option.label)\n                ? `${item[option.label[0]]}（${item[option.label[1]]}）`\n                : item[option.label];\n              return (\n                <Option key={index} value={item[option.value]} label={label}>\n                  {label}\n                </Option>\n              );\n            })\n          : null}\n      </Select>\n    ),\n    SelectNew: (\n      <Select\n        showSearch\n        style={{ width: 200 }}\n        {...rest}\n        optionFilterProp=\"children\"\n        filterOption={(input, option) =>\n          option.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n        }\n      >\n        {option && option.list\n          ? option.list.map((item, index) => {\n              return (\n                <Option key={index} value={item.value} label={item.label}>\n                  {item.label}\n                </Option>\n              );\n            })\n          : null}\n      </Select>\n    ),\n  };\n  return render || filterItem[content];\n}\n\nexport default FormItem;\n","import React, { Fragment, useEffect } from \"react\";\nimport { Modal, Form } from \"antd\";\nimport PropTypes from \"prop-types\";\nimport FormItem from \"./FormItem\";\n\nconst defaultLayout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 16 },\n};\n\nfunction FormModal(props) {\n  const {\n    itemOption,\n    title,\n    visible,\n    cancel,\n    handleOk,\n    initialValues,\n    confirmLoading,\n    width,\n    layout,\n    editInfo,\n    rest,\n  } = props;\n  const [form] = Form.useForm();\n\n  useEffect(() => {\n    if (editInfo) {\n      console.log(\"editInfo\", editInfo);\n    }\n    return () => {\n      form.resetFields();\n    };\n  }, [visible, form, editInfo]);\n\n  const confirm = () => {\n    form\n      .validateFields()\n      .then((values) => {\n        handleOk(values);\n      })\n      .catch((err) => {\n        console.log(\"err\", err);\n      });\n  };\n\n  return (\n    <Fragment>\n      <Modal\n        forceRender\n        title={\n          title ||\n          (editInfo && Object.keys(editInfo).length === 0 ? \"新增\" : \"编辑\")\n        }\n        visible={visible}\n        onOk={confirm}\n        onCancel={cancel}\n        width={width}\n        confirmLoading={confirmLoading}\n        {...rest}\n      >\n        <Form\n          form={form}\n          {...(layout ? layout : defaultLayout)}\n          initialValues={initialValues}\n        >\n          {itemOption\n            ? itemOption.map((item, index) => {\n                return (\n                  <Form.Item\n                    key={index}\n                    label={item.label}\n                    name={item.name}\n                    rules={[{ ...item.rules }]}\n                  >\n                    {FormItem(item)}\n                  </Form.Item>\n                );\n              })\n            : null}\n        </Form>\n      </Modal>\n    </Fragment>\n  );\n}\n\nFormModal.propTypes = {\n  itemOption: PropTypes.array.isRequired,\n  handleOk: PropTypes.func.isRequired,\n  visible: PropTypes.bool,\n  title: PropTypes.string,\n  cancel: PropTypes.func,\n  initialValues: PropTypes.object,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  confirmLoading: PropTypes.bool,\n  leftAction: PropTypes.element,\n  rest: PropTypes.object,\n  layout: PropTypes.object,\n  editInfo: PropTypes.object,\n};\n\nexport default FormModal;\n","import React from \"react\";\nimport { Input, InputNumber, Select, DatePicker, Radio } from \"antd\";\n\nconst { Option } = Select;\nconst { RangePicker } = DatePicker;\n\n/**\n *  表单弹窗 \n * @param ItemOptions 表单配置\n * ItemOptions = {\n    label: \"标题\",\n    name: \"字段名\",\n    required: \"必填-boolean\",\n    content: \"表单\",\n    hidden: \"隐藏-boolean\",\n    title: \"作为文本标题展示-boolean\"\n * }\n * @param initialValues 表单整体的默认值，不再使用单个表单默认值\n * */\nexport default function FormItemComponent(field) {\n  // 选项的类型：Input-输入框，NumberInput-数字输入框，Select-下拉框，SelectMultiple-下拉框多选，\n  // Date-日期，DateRange-日期范围，DateRangeButton-日期范围按钮\n  const filterItem = {\n    Input: (\n      <Input\n        style={{ width: \"100%\" }}\n        placeholder={field.placeholder || field.label}\n        disabled={field.disabled}\n      />\n    ),\n    TextArea: (\n      <Input.TextArea\n        style={{ width: \"100%\" }}\n        placeholder={field.label}\n        {...field.option}\n      />\n    ),\n    NumberInput: (\n      <InputNumber style={{ width: \"100%\" }} placeholder={field.label} />\n    ),\n    Select: (\n      <Select\n        style={{ width: \"100%\" }}\n        placeholder={field.label}\n        showSearch={true}\n        allowClear={true}\n        disabled={field.disabled || false}\n        filterOption={(input, option) => {\n          try {\n            return (\n              option.props.children\n                .toLowerCase()\n                .indexOf(input.toLowerCase()) >= 0\n            );\n          } catch {\n            return option.props.children.indexOf(input) >= 0;\n          }\n        }}\n      >\n        {field.options\n          ? field.options.map((item, index) => {\n              return (\n                <Option key={index} value={item.value}>\n                  {item.name || item.label}\n                </Option>\n              );\n            })\n          : null}\n      </Select>\n    ),\n    SelectMultiple: (\n      <Select\n        style={{ width: \"100%\" }}\n        mode=\"multiple\"\n        allowClear={true}\n        placeholder={field.label}\n        filterOption={(input, option) => {\n          try {\n            return (\n              option.props.children\n                .toLowerCase()\n                .indexOf(input.toLowerCase()) >= 0\n            );\n          } catch {\n            return option.props.children.indexOf(input) >= 0;\n          }\n        }}\n      >\n        {field.options\n          ? field.options.map((item, index) => {\n              return (\n                <Option key={index} value={item.value}>\n                  {item.name || item.label}\n                </Option>\n              );\n            })\n          : null}\n      </Select>\n    ),\n    Radio: (\n      <Radio.Group\n        options={field.options}\n        optionType=\"button\"\n        buttonStyle=\"solid\"\n        {...field.option}\n      />\n    ),\n    Date: <DatePicker {...field.option} />,\n    DateRange: <RangePicker {...field.option} />,\n    Content: field.content,\n  };\n\n  return field.content || filterItem[field.type];\n}\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport \"./index.less\";\nimport { Form, Button, Col, Row, Space } from \"antd\";\nimport { DownOutlined, UpOutlined } from \"@ant-design/icons\";\nimport PropTypes from \"prop-types\";\nimport FormItemComponent from \"../Form/FormItemComponent.js\";\n\nexport const resetObjectSelect = (object) => {\n  return Object.keys(object).map((item) => ({\n    label: object[item],\n    value: item,\n  }));\n};\n\n/**\n * 表格过滤器封装\n * @param fields 过滤器配置\n * @param rowCount 首行展示过滤key数量\n * @param defaultValue 默认值，受控\n * @param leftActions 左浮按钮\n * @param rightActions 右浮按钮\n * @function onSearch 回调函数，点击搜索时触发\n */\n\nfunction TableFilter(props) {\n  const {\n    fields,\n    onSearch,\n    rowCount,\n    defaultValue,\n    leftActions,\n    rightActions,\n    defaultExpand,\n  } = props;\n\n  const [form] = Form.useForm();\n\n  const defaultCount = 4;\n  const count = rowCount ? rowCount : defaultCount;\n\n  const [expand, setExpand] = useState(() =>\n    defaultExpand ? defaultExpand : false\n  );\n\n  useEffect(() => {\n    if (defaultValue) {\n      form.setFieldsValue(defaultValue);\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  const getFields = () => {\n    const showFields = expand ? fields : fields.slice(0, count);\n    const children = [];\n    showFields.forEach((item) => {\n      if (!item.hidden) {\n        children.push(\n          <Col span={item.span ? item.span : 6} key={item.key}>\n            <Form.Item\n              name={item.key}\n              label={item.label}\n              required={item.required}\n            >\n              {FormItemComponent(item)}\n            </Form.Item>\n          </Col>\n        );\n      }\n    });\n    return children;\n  };\n\n  const onFinish = (values) => {\n    // 剔除空数据、空数组、空对象\n    const data = { ...values };\n    Object.keys(data).forEach((item) => {\n      if (\n        data[item] === \"\" ||\n        // eslint-disable-next-line no-prototype-builtins\n        (Array.prototype.isPrototypeOf(data[item]) &&\n          data[item].length === 0) ||\n        // eslint-disable-next-line no-prototype-builtins\n        (Object.prototype.isPrototypeOf(data[item]) &&\n          Object.keys(data[item]).length === 0)\n      ) {\n        delete data[item];\n      }\n    });\n    onSearch(data);\n  };\n\n  return (\n    <Form form={form} name=\"advanced_search\" onFinish={onFinish}>\n      {fields && fields.length > 0 && <Row gutter={24}>{getFields()}</Row>}\n      <Row>\n        <Col span={14}>\n          {leftActions\n            ? leftActions.map((item, index) => (\n                <Fragment key={index}>{item}</Fragment>\n              ))\n            : null}\n        </Col>\n        <Col span={10} className=\"table-filter-col\">\n          {fields && fields.length > 0 && (\n            <Space className=\"table-filter-button-group\">\n              <Button type=\"primary\" htmlType=\"submit\" size=\"small\">\n                搜索\n              </Button>\n              <Button\n                size=\"small\"\n                onClick={() => {\n                  form.resetFields();\n                  form.setFieldsValue(defaultValue);\n                }}\n              >\n                重置\n              </Button>\n              {fields && fields.length > count ? (\n                <Button\n                  type=\"link\"\n                  style={{ padding: 0 }}\n                  onClick={() => {\n                    setExpand(!expand);\n                  }}\n                >\n                  {expand ? <UpOutlined /> : <DownOutlined />} 更多\n                </Button>\n              ) : null}\n            </Space>\n          )}\n          {rightActions\n            ? rightActions.map((item, index) => <span key={index}>{item}</span>)\n            : null}\n        </Col>\n      </Row>\n    </Form>\n  );\n}\n\nTableFilter.propTypes = {\n  fields: PropTypes.array,\n  onSearch: PropTypes.func,\n  rowCount: PropTypes.number,\n  defaultValue: PropTypes.object,\n  leftActions: PropTypes.element,\n  rightActions: PropTypes.element,\n  defaultExpand: PropTypes.bool,\n};\n\nexport default TableFilter;\n","import '../../style/index.less'; // style dependencies\n// deps-lint-skip: tooltip, popover\n\nimport '../../popover/style';\nimport '../../button/style';\nimport './index.less';","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this;\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport ExclamationCircleFilled from \"@ant-design/icons/es/icons/ExclamationCircleFilled\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport Tooltip from '../tooltip';\nimport Button from '../button';\nimport { convertLegacyProps } from '../button/button';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale/default';\nimport { ConfigContext } from '../config-provider';\nimport { getRenderPropValue } from '../_util/getRenderPropValue';\nimport { cloneElement } from '../_util/reactNode';\nimport { getTransitionName } from '../_util/motion';\nvar Popconfirm = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _useMergedState = useMergedState(false, {\n    value: props.visible,\n    defaultValue: props.defaultVisible\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      visible = _useMergedState2[0],\n      setVisible = _useMergedState2[1];\n\n  var settingVisible = function settingVisible(value, e) {\n    var _a;\n\n    setVisible(value);\n    (_a = props.onVisibleChange) === null || _a === void 0 ? void 0 : _a.call(props, value, e);\n  };\n\n  var onConfirm = function onConfirm(e) {\n    var _a;\n\n    settingVisible(false, e);\n    (_a = props.onConfirm) === null || _a === void 0 ? void 0 : _a.call(_this, e);\n  };\n\n  var onCancel = function onCancel(e) {\n    var _a;\n\n    settingVisible(false, e);\n    (_a = props.onCancel) === null || _a === void 0 ? void 0 : _a.call(_this, e);\n  };\n\n  var _onKeyDown = function onKeyDown(e) {\n    if (e.keyCode === KeyCode.ESC && visible) {\n      settingVisible(false, e);\n    }\n  };\n\n  var onVisibleChange = function onVisibleChange(value) {\n    var disabled = props.disabled;\n\n    if (disabled) {\n      return;\n    }\n\n    settingVisible(value);\n  };\n\n  var renderOverlay = function renderOverlay(prefixCls, popconfirmLocale) {\n    var okButtonProps = props.okButtonProps,\n        cancelButtonProps = props.cancelButtonProps,\n        title = props.title,\n        cancelText = props.cancelText,\n        okText = props.okText,\n        okType = props.okType,\n        icon = props.icon;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-inner-content\")\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-message\")\n    }, icon, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-message-title\")\n    }, getRenderPropValue(title))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-buttons\")\n    }, /*#__PURE__*/React.createElement(Button, _extends({\n      onClick: onCancel,\n      size: \"small\"\n    }, cancelButtonProps), cancelText || popconfirmLocale.cancelText), /*#__PURE__*/React.createElement(Button, _extends({\n      onClick: onConfirm\n    }, convertLegacyProps(okType), {\n      size: \"small\"\n    }, okButtonProps), okText || popconfirmLocale.okText)));\n  };\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls;\n\n  var customizePrefixCls = props.prefixCls,\n      placement = props.placement,\n      children = props.children,\n      overlayClassName = props.overlayClassName,\n      restProps = __rest(props, [\"prefixCls\", \"placement\", \"children\", \"overlayClassName\"]);\n\n  var prefixCls = getPrefixCls('popover', customizePrefixCls);\n  var prefixClsConfirm = getPrefixCls('popconfirm', customizePrefixCls);\n  var overlayClassNames = classNames(prefixClsConfirm, overlayClassName);\n  var overlay = /*#__PURE__*/React.createElement(LocaleReceiver, {\n    componentName: \"Popconfirm\",\n    defaultLocale: defaultLocale.Popconfirm\n  }, function (popconfirmLocale) {\n    return renderOverlay(prefixCls, popconfirmLocale);\n  });\n  var rootPrefixCls = getPrefixCls();\n  return /*#__PURE__*/React.createElement(Tooltip, _extends({}, restProps, {\n    prefixCls: prefixCls,\n    placement: placement,\n    onVisibleChange: onVisibleChange,\n    visible: visible,\n    overlay: overlay,\n    overlayClassName: overlayClassNames,\n    ref: ref,\n    transitionName: getTransitionName(rootPrefixCls, 'zoom-big', props.transitionName)\n  }), cloneElement(children, {\n    onKeyDown: function onKeyDown(e) {\n      var _a, _b;\n\n      if ( /*#__PURE__*/React.isValidElement(children)) {\n        (_b = children === null || children === void 0 ? void 0 : (_a = children.props).onKeyDown) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n      }\n\n      _onKeyDown(e);\n    }\n  }));\n});\nPopconfirm.defaultProps = {\n  placement: 'top',\n  trigger: 'click',\n  okType: 'primary',\n  icon: /*#__PURE__*/React.createElement(ExclamationCircleFilled, null),\n  disabled: false\n};\nexport default Popconfirm;"],"sourceRoot":""}